(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{203:function(e,t,r){"use strict";r.r(t),r.d(t,"Profile",function(){return y});var n,i=r(6),o=r(7),a=r(32),s=r(31),l=r(33),c=r(211),u=r(2),f=r.n(u),m=r(209),d=r(210),p=r(12),h=r(11),g=r(5),v=function(e){return e.isUser?f.a.createElement(f.a.Fragment,null,f.a.createElement(g.Link,{className:"btn btn-sm btn-outline-secondary action-btn",view:h.a.settings,store:e.store},f.a.createElement("i",{className:"ion-gear-a"})," Edit Profile Settings")):null},S=function(e){if(e.isUser)return null;var t="btn btn-sm action-btn";e.following?t+=" btn-secondary":t+=" btn-outline-secondary";return f.a.createElement("button",{className:t,onClick:function(t){t.preventDefault(),e.following?e.unfollow(e.username):e.follow(e.username)}},f.a.createElement("i",{className:"ion-plus-round"}),"\xa0",e.following?"Unfollow":"Follow"," ",e.username)},y=Object(p.inject)("articlesStore","profileStore","userStore","store")(n=Object(p.observer)(n=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=Object(a.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleFollow=function(){return r.props.profileStore.follow()},r.handleUnfollow=function(){return r.props.profileStore.unfollow()},r.handleSetPage=function(e){r.props.articlesStore.setPage(e),r.props.articlesStore.loadArticles()},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.articlesStore.setPredicate(this.getPredicate())}},{key:"componentDidMount",value:function(){this.props.profileStore.loadProfile(this.props.store.router.params.username),this.props.articlesStore.loadArticles()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&(this.props.profileStore.loadProfile(this.props.store.router.params.username),this.props.articlesStore.setPredicate(this.getPredicate()),this.props.articlesStore.loadArticles())}},{key:"getTab",value:function(){return/\/favorites/.test(this.props.store.router.currentView.path)?"favorites":"all"}},{key:"getPredicate",value:function(){switch(this.getTab()){case"favorites":return{favoritedBy:this.props.store.router.params.username};default:return{author:this.props.store.router.params.username}}}},{key:"renderTabs",value:function(){var e=this.props.profileStore.profile,t="favorites"===this.props.store.router.params.fav;return f.a.createElement("ul",{className:"nav nav-pills outline-active"},f.a.createElement("li",{className:"nav-item"},f.a.createElement(g.Link,{className:"nav-link ".concat(t?"":"active"),view:h.a.profile,store:this.props.store,params:{username:e.username}},"My Articles")),f.a.createElement("li",{className:"nav-item"},f.a.createElement(g.Link,{className:"nav-link ".concat(t?"active":""),view:h.a.profile,store:this.props.store,params:{username:e.username,fav:"favorites"}},"Favorited Articles")))}},{key:"render",value:function(){var e=this.props,t=e.profileStore,r=e.articlesStore,n=e.userStore,i=t.profile,o=t.isLoadingProfile,a=n.currentUser;if(o&&!i)return f.a.createElement(m.a,null);if(!i)return f.a.createElement(d.a,{message:"Can't load profile"});var s=a&&i.username===a.username;return f.a.createElement("div",{className:"profile-page"},f.a.createElement("div",{className:"user-info"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},f.a.createElement("img",{src:i.image,className:"user-img",alt:""}),f.a.createElement("h4",null,i.username),f.a.createElement("p",null,i.bio),f.a.createElement(v,{isUser:s}),f.a.createElement(S,{isUser:s,username:i.username,following:i.following,follow:this.handleFollow,unfollow:this.handleUnfollow}))))),f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},f.a.createElement("div",{className:"articles-toggle"},this.renderTabs()),f.a.createElement(c.a,{articles:r.articles,totalPagesCount:r.totalPagesCount,onSetPage:this.handleSetPage,loading:r.isLoading})))))}}]),t}(f.a.Component))||n)||n;t.default=y},209:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(6),i=r(7),o=r(32),a=r(31),s=r(33),l=r(2),c=r.n(l),u={borderRadius:"50%",width:"40px",height:"40px",margin:"90px auto",position:"relative",borderTop:"3px solid rgba(0, 0, 0, 0.1)",borderRight:"3px solid rgba(0, 0, 0, 0.1)",borderBottom:"3px solid rgba(0, 0, 0, 0.1)",borderLeft:"3px solid #818a91",transform:"translateZ(0)",animation:"loading-spinner 0.5s infinite linear"},f=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"loading-spinner",style:u},c.a.createElement("style",null,"\n        @keyframes loading-spinner {\n          0% { transform : rotate(0deg); }\n          100% { transform : rotate(360deg); }\n        }\n        "))}}]),t}(c.a.Component)},210:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(32),a=r(31),s=r(33),l=r(2),c=r.n(l),u={display:"flex",justifyContent:"center"},f={display:"inline-block",margin:"20px auto",borderRadius:"4px",padding:"8px 15px",color:"rgb(240, 45, 45)",fontWeight:"bold",backgroundColor:"rgba(240, 45, 45, 0.1)"},m=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{style:u},c.a.createElement("div",{style:f},this.props.message))}}]),t}(c.a.Component);t.a=m},211:function(e,t,r){"use strict";var n,i=r(6),o=r(7),a=r(32),s=r(31),l=r(33),c=r(2),u=r.n(c),f=r(12),m=r(5),d=r(11),p=Object(f.inject)("articlesStore","store")(n=Object(f.observer)(n=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=Object(a.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleClickFavorite=function(e){e.preventDefault();var t=r.props,n=t.articlesStore,i=t.article;i.favorited?n.unmakeFavorite(i.slug):n.makeFavorite(i.slug)},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.article,t=e.favorited?"btn btn-sm btn-primary":"btn btn-sm btn-outline-primary";return u.a.createElement("div",{className:"article-preview"},u.a.createElement("div",{className:"article-meta"},u.a.createElement(m.Link,{view:d.a.profile,params:{username:e.author.username},store:this.props.store,key:e.author.image},u.a.createElement("img",{src:e.author.image,alt:""})),u.a.createElement("div",{className:"info"},u.a.createElement(m.Link,{className:"author",view:d.a.profile,params:{username:e.author.username},store:this.props.store,key:e.author.image},e.author.username),u.a.createElement("span",{className:"date"},new Date(e.createdAt).toDateString())),u.a.createElement("div",{className:"pull-xs-right"},u.a.createElement("button",{className:t,onClick:this.handleClickFavorite},u.a.createElement("i",{className:"ion-heart"})," ",e.favoritesCount))),u.a.createElement(m.Link,{className:"preview-link",style:{display:"block",overflow:"auto",zoom:1},view:d.a.article,params:{id:e.slug},store:this.props.store,key:e.slug},u.a.createElement("h1",null,e.title),u.a.createElement("p",null,e.description),u.a.createElement("span",null,"Read more..."),u.a.createElement("ul",{className:"tag-list"},e.tagList.map(function(e){return u.a.createElement("li",{className:"tag-default tag-pill tag-outline",key:e},e)}))))}}]),t}(u.a.Component))||n)||n,h=r(209),g=r(101),v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var S,y,E,b=function(){return(b=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"}(S||(S={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(y||(y={})),function(e){e.OBSERVED="observed",e.REQUESTED="requested"}(E||(E={}));var I,O,z,C,T,x=((I={})[y.VERTICAL]="scrollTop",I[y.HORIZONTAL]="scrollLeft",I),A=((O={})[y.VERTICAL]="height",O[y.HORIZONTAL]="width",O),w=((z={})[y.VERTICAL]="top",z[y.HORIZONTAL]="left",z),N=((C={})[y.VERTICAL]="marginTop",C[y.HORIZONTAL]="marginLeft",C),R=((T={})[y.VERTICAL]="marginBottom",T[y.HORIZONTAL]="marginRight",T),P=function(){function e(e){var t=e.itemCount,r=e.itemSizeGetter,n=e.estimatedItemSize;this.itemSizeGetter=r,this.itemCount=t,this.estimatedItemSize=n,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return e.prototype.updateConfig=function(e){var t=e.itemCount,r=e.itemSizeGetter,n=e.estimatedItemSize;null!=t&&(this.itemCount=t),null!=n&&(this.estimatedItemSize=n),null!=r&&(this.itemSizeGetter=r)},e.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(e){if(e<0||e>=this.itemCount)throw Error("Requested index "+e+" is outside of range 0.."+this.itemCount);if(e>this.lastMeasuredIndex){for(var t=this.getSizeAndPositionOfLastMeasuredItem(),r=t.offset+t.size,n=this.lastMeasuredIndex+1;n<=e;n++){var i=this.itemSizeGetter(n);if(null==i||isNaN(i))throw Error("Invalid size returned for index "+n+" of value "+i);this.itemSizeAndPositionData[n]={offset:r,size:i},r+=i}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(e){var t=e.align,r=void 0===t?S.START:t,n=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(n<=0)return 0;var a,s=this.getSizeAndPositionForIndex(o),l=s.offset,c=l-n+s.size;switch(r){case S.END:a=c;break;case S.CENTER:a=l-(n-s.size)/2;break;case S.START:a=l;break;default:a=Math.max(c,Math.min(l,i))}var u=this.getTotalSize();return Math.max(0,Math.min(u-n,a))},e.prototype.getVisibleRange=function(e){var t=e.containerSize,r=e.offset,n=e.overscanCount;if(0===this.getTotalSize())return{};var i=r+t,o=this.findNearestItem(r);if("undefined"===typeof o)throw Error("Invalid offset "+r+" specified");var a=this.getSizeAndPositionForIndex(o);r=a.offset+a.size;for(var s=o;r<i&&s<this.itemCount-1;)s++,r+=this.getSizeAndPositionForIndex(s).size;return n&&(o=Math.max(0,o-n),s=Math.min(s+n,this.itemCount-1)),{start:o,stop:s}},e.prototype.resetItem=function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)},e.prototype.findNearestItem=function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})},e.prototype.binarySearch=function(e){for(var t=e.low,r=e.high,n=e.offset,i=0,o=0;t<=r;){if(i=t+Math.floor((r-t)/2),(o=this.getSizeAndPositionForIndex(i).offset)===n)return i;o<n?t=i+1:o>n&&(r=i-1)}return t>0?t-1:0},e.prototype.exponentialSearch=function(e){for(var t=e.index,r=e.offset,n=1;t<this.itemCount&&this.getSizeAndPositionForIndex(t).offset<r;)t+=n,n*=2;return this.binarySearch({high:Math.min(t,this.itemCount-1),low:Math.floor(t/2),offset:r})},e}(),k={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},j={position:"relative",width:"100%",minHeight:"100%"},L={position:"absolute",top:0,left:0,width:"100%"},M=b({},L,{position:"sticky"}),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemSizeGetter=function(e){return function(r){return t.getSize(r,e)}},t.sizeAndPositionManager=new P({itemCount:t.props.itemCount,itemSizeGetter:t.itemSizeGetter(t.props.itemSize),estimatedItemSize:t.getEstimatedItemSize()}),t.state={offset:t.props.scrollOffset||null!=t.props.scrollToIndex&&t.getOffsetForIndex(t.props.scrollToIndex)||0,scrollChangeReason:E.REQUESTED},t.styleCache={},t.getRef=function(e){t.rootNode=e},t.handleScroll=function(e){var r=t.props.onScroll,n=t.getNodeOffset();n<0||t.state.offset===n||e.target!==t.rootNode||(t.setState({offset:n,scrollChangeReason:E.OBSERVED}),"function"===typeof r&&r(n,e))},t}return function(e,t){function r(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.scrollOffset,r=e.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),null!=t?this.scrollTo(t):null!=r&&this.scrollTo(this.getOffsetForIndex(r))},t.prototype.componentWillReceiveProps=function(e){var t=this.props,r=t.estimatedItemSize,n=t.itemCount,i=t.itemSize,o=t.scrollOffset,a=t.scrollToAlignment,s=t.scrollToIndex,l=e.scrollToIndex!==s||e.scrollToAlignment!==a,c=e.itemCount!==n||e.itemSize!==i||e.estimatedItemSize!==r;e.itemSize!==i&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.itemSize)}),e.itemCount===n&&e.estimatedItemSize===r||this.sizeAndPositionManager.updateConfig({itemCount:e.itemCount,estimatedItemSize:this.getEstimatedItemSize(e)}),c&&this.recomputeSizes(),e.scrollOffset!==o?this.setState({offset:e.scrollOffset||0,scrollChangeReason:E.REQUESTED}):"number"===typeof e.scrollToIndex&&(l||c)&&this.setState({offset:this.getOffsetForIndex(e.scrollToIndex,e.scrollToAlignment,e.itemCount),scrollChangeReason:E.REQUESTED})},t.prototype.componentDidUpdate=function(e,t){var r=this.state,n=r.offset,i=r.scrollChangeReason;t.offset!==n&&i===E.REQUESTED&&this.scrollTo(n)},t.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollTo=function(e){var t=this.props.scrollDirection,r=void 0===t?y.VERTICAL:t;this.rootNode[x[r]]=e},t.prototype.getOffsetForIndex=function(e,t,r){void 0===t&&(t=this.props.scrollToAlignment),void 0===r&&(r=this.props.itemCount);var n=this.props.scrollDirection,i=void 0===n?y.VERTICAL:n;return(e<0||e>=r)&&(e=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:this.props[A[i]],currentOffset:this.state&&this.state.offset||0,targetIndex:e})},t.prototype.recomputeSizes=function(e){void 0===e&&(e=0),this.styleCache={},this.sizeAndPositionManager.resetItem(e)},t.prototype.render=function(){var e,t=this,r=this.props,n=(r.estimatedItemSize,r.height),i=r.overscanCount,o=void 0===i?3:i,a=r.renderItem,s=(r.itemCount,r.itemSize,r.onItemsRendered),l=(r.onScroll,r.scrollDirection),u=void 0===l?y.VERTICAL:l,f=(r.scrollOffset,r.scrollToIndex,r.scrollToAlignment,r.stickyIndices),m=r.style,d=r.width,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r}(r,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),h=this.state.offset,g=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[A[u]]||0,offset:h,overscanCount:o}),v=g.start,S=g.stop,E=[],I=b({},k,m,{height:n,width:d}),O=b({},j,((e={})[A[u]]=this.sizeAndPositionManager.getTotalSize(),e));if(null!=f&&0!==f.length&&(f.forEach(function(e){return E.push(a({index:e,style:t.getStyle(e,!0)}))}),u===y.HORIZONTAL&&(O.display="flex")),"undefined"!==typeof v&&"undefined"!==typeof S){for(var z=v;z<=S;z++)null!=f&&f.includes(z)||E.push(a({index:z,style:this.getStyle(z,!1)}));"function"===typeof s&&s({startIndex:v,stopIndex:S})}return Object(c.createElement)("div",b({ref:this.getRef},p,{style:I}),Object(c.createElement)("div",{style:O},E))},t.prototype.getNodeOffset=function(){var e=this.props.scrollDirection,t=void 0===e?y.VERTICAL:e;return this.rootNode[x[t]]},t.prototype.getEstimatedItemSize=function(e){return void 0===e&&(e=this.props),e.estimatedItemSize||"number"===typeof e.itemSize&&e.itemSize||50},t.prototype.getSize=function(e,t){return"function"===typeof t?t(e):Array.isArray(t)?t[e]:t},t.prototype.getStyle=function(e,t){var r=this.styleCache[e];if(r)return r;var n,i,o=this.props.scrollDirection,a=void 0===o?y.VERTICAL:o,s=this.sizeAndPositionManager.getSizeAndPositionForIndex(e),l=s.size,c=s.offset;return this.styleCache[e]=t?b({},M,((n={})[A[a]]=l,n[N[a]]=c,n[R[a]]=-(c+l),n.zIndex=1,n)):b({},L,((i={})[A[a]]=l,i[w[a]]=c,i))},t.defaultProps={overscanCount:3,scrollDirection:y.VERTICAL,width:"100%"},t.propTypes={estimatedItemSize:g.number,height:Object(g.oneOfType)([g.number,g.string]).isRequired,itemCount:g.number.isRequired,itemSize:Object(g.oneOfType)([g.number,g.array,g.func]).isRequired,onScroll:g.func,onItemsRendered:g.func,overscanCount:g.number,renderItem:g.func.isRequired,scrollOffset:g.number,scrollToIndex:g.number,scrollToAlignment:Object(g.oneOf)([S.AUTO,S.START,S.CENTER,S.END]),scrollDirection:Object(g.oneOf)([y.HORIZONTAL,y.VERTICAL]),stickyIndices:Object(g.arrayOf)(g.number),style:g.object,width:Object(g.oneOfType)([g.number,g.string])},t}(c.PureComponent);t.a=function(e){return e.loading&&0===e.articles.length?u.a.createElement(h.a,null):0===e.articles.length?u.a.createElement("div",{className:"article-preview"},"No articles are here... yet."):u.a.createElement(u.a.Fragment,null,u.a.createElement(D,{height:600,itemCount:e.articles.length,itemSize:200,renderItem:function(t){var r=t.index,n=t.style;return null!==e.articles[r]?u.a.createElement("div",{style:n,key:r},u.a.createElement(p,{article:e.articles[r],key:r})):u.a.createElement("div",{key:r},"Loading \u2026")},onItemsRendered:function(t){t.startIndex;var r=t.stopIndex;!e.isLoading&&r-10*e.currentPage>5&&e.currentPage<e.totalPagesCount&&e.onSetPage(e.currentPage+1)}}))}}}]);
//# sourceMappingURL=5.0b6472a7.chunk.js.map