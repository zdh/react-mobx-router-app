(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,r){e.exports=r(200)},11:function(e,t,r){"use strict";var o=r(97),n=r(2),i=r.n(n),a=r(98),c=r.n(a),s=r(5),l=function(e){return e.pastDelay?i.a.createElement("div",{style:{display:"flex",width:"100%",height:"100vh",justifyContent:"center",alignItems:"center"}},"Loading..."):e.error?i.a.createElement("div",null,"Error!"):null},u=function(e){return c()(Object(o.a)({render:function(e,t){var r=e.default;return i.a.createElement(r,t)},loading:l},e))},p=u({loader:function(){return Promise.all([r.e(9),r.e(1)]).then(r.bind(null,206))}}),b=u({loader:function(){return r.e(2).then(r.bind(null,201))}}),f=u({loader:function(){return r.e(3).then(r.bind(null,207))}}),g=u({loader:function(){return r.e(4).then(r.bind(null,202))}}),y=u({loader:function(){return r.e(5).then(r.bind(null,203))}}),h=u({loader:function(){return r.e(6).then(r.bind(null,204))}}),m=u({loader:function(){return r.e(7).then(r.bind(null,205))}}),d={login:new s.Route({path:"/login",component:i.a.createElement(g,null)}),register:new s.Route({path:"/register",component:i.a.createElement(h,null)}),editor:new s.Route({path:"/editor/:slug?",component:i.a.createElement(b,null)}),article:new s.Route({path:"/article/:id",component:i.a.createElement(p,null)}),settings:new s.Route({path:"/settings",component:i.a.createElement(m,null)}),profile:new s.Route({path:"/:username/:fav",component:i.a.createElement(y,null)}),home:new s.Route({path:"/",component:i.a.createElement(f,null),onParamsChange:function(e,t,r,o){r.articlesStore.setPredicate(r.articlesStore.getPredicate({store:r})),r.articlesStore.loadArticles()}})};t.a=d},14:function(e,t,r){"use strict";var o,n,i,a,c,s,l=r(3),u=r(6),p=r(7),b=r(1),f=(r(22),r(0)),g=r(4),y=(o=function(){function e(){var t=this;Object(u.a)(this,e),Object(l.a)(this,"appName",n,this),Object(l.a)(this,"token",i,this),Object(l.a)(this,"appLoaded",a,this),Object(l.a)(this,"tags",c,this),Object(l.a)(this,"isLoadingTags",s,this),Object(f.reaction)(function(){return t.token},function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")})}return Object(p.a)(e,[{key:"loadTags",value:function(){var e=this;return this.isLoadingTags=!0,g.a.Tags.getAll().then(Object(f.action)(function(t){var r=t.tags;e.tags=r.map(function(e){return e.toLowerCase()})})).finally(Object(f.action)(function(){e.isLoadingTags=!1}))}},{key:"setToken",value:function(e){this.token=e}},{key:"setAppLoaded",value:function(){this.appLoaded=!0}}]),e}(),n=Object(b.a)(o.prototype,"appName",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Conduit"}}),i=Object(b.a)(o.prototype,"token",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.localStorage.getItem("jwt")}}),a=Object(b.a)(o.prototype,"appLoaded",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=Object(b.a)(o.prototype,"tags",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=Object(b.a)(o.prototype,"isLoadingTags",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(b.a)(o.prototype,"loadTags",[f.action],Object.getOwnPropertyDescriptor(o.prototype,"loadTags"),o.prototype),Object(b.a)(o.prototype,"setToken",[f.action],Object.getOwnPropertyDescriptor(o.prototype,"setToken"),o.prototype),Object(b.a)(o.prototype,"setAppLoaded",[f.action],Object.getOwnPropertyDescriptor(o.prototype,"setAppLoaded"),o.prototype),o);t.a=new y},200:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r.n(o),i=r(23),a=r.n(i),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var l,u,p,b,f,g,y,h,m,d,v,O,j,w,P,k,A,S,E,L,C,D,U,z,N,T=r(96),R=r.n(T),I=r(0),x=r(12),B=r(5),W=r(11),F=r(3),J=r(6),M=r(7),q=r(1),$=(r(22),r(4)),H=new(l=function(){function e(){Object(J.a)(this,e),Object(F.a)(this,"isLoading",u,this),Object(F.a)(this,"page",p,this),Object(F.a)(this,"totalPagesCount",b,this),Object(F.a)(this,"articlesRegistry",f,this),Object(F.a)(this,"predicate",g,this)}return Object(M.a)(e,[{key:"clear",value:function(){this.articlesRegistry.clear(),this.page=0}},{key:"getArticle",value:function(e){return this.articlesRegistry.get(e)}},{key:"setPage",value:function(e){this.page=e}},{key:"setPredicate",value:function(e){JSON.stringify(e)!==JSON.stringify(this.predicate)&&(this.clear(),this.predicate=e)}},{key:"$req",value:function(){return this.predicate.myFeed?$.a.Articles.feed(this.page,10):this.predicate.favoritedBy?$.a.Articles.favoritedBy(this.predicate.favoritedBy,this.page,10):this.predicate.tag?$.a.Articles.byTag(this.predicate.tag,this.page,10):this.predicate.author?$.a.Articles.byAuthor(this.predicate.author,this.page,10):$.a.Articles.all(this.page,10,this.predicate)}},{key:"loadArticles",value:function(){var e=this;return this.isLoading=!0,this.$req().then(Object(I.action)(function(t){var r=t.articles,o=t.articlesCount;r.forEach(function(t){return e.articlesRegistry.set(t.slug,t)}),e.totalPagesCount=Math.ceil(o/10)})).finally(Object(I.action)(function(){e.isLoading=!1}))}},{key:"loadArticle",value:function(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).acceptCached;if(void 0!==r&&r){var o=this.getArticle(e);if(o)return Promise.resolve(o)}return this.isLoading=!0,$.a.Articles.get(e).then(Object(I.action)(function(e){var r=e.article;return t.articlesRegistry.set(r.slug,r),r})).finally(Object(I.action)(function(){t.isLoading=!1}))}},{key:"makeFavorite",value:function(e){var t=this.getArticle(e);return t&&!t.favorited?(t.favorited=!0,t.favoritesCount++,$.a.Articles.favorite(e).catch(Object(I.action)(function(e){throw t.favorited=!1,t.favoritesCount--,e}))):Promise.resolve()}},{key:"unmakeFavorite",value:function(e){var t=this.getArticle(e);return t&&t.favorited?(t.favorited=!1,t.favoritesCount--,$.a.Articles.unfavorite(e).catch(Object(I.action)(function(e){throw t.favorited=!0,t.favoritesCount++,e}))):Promise.resolve()}},{key:"createArticle",value:function(e){var t=this;return $.a.Articles.create(e).then(function(e){var r=e.article;return t.articlesRegistry.set(r.slug,r),r})}},{key:"updateArticle",value:function(e){var t=this;return $.a.Articles.update(e).then(function(e){var r=e.article;return t.articlesRegistry.set(r.slug,r),r})}},{key:"deleteArticle",value:function(e){var t=this;return this.articlesRegistry.delete(e),$.a.Articles.del(e).catch(Object(I.action)(function(e){throw t.loadArticles(),e}))}},{key:"getParams",value:function(e,t,r){var o=e.store.router,n=o.queryParams,i=o.params;return i&&i[t]||n&&n[t]||r}},{key:"getPredicate",value:function(e){var t=this.getParams(e,"tab","all"),r=this.getParams(e,"tag","");switch(t){case"feed":return{myFeed:!0};case"tag":return{tag:r};default:return{}}}},{key:"articles",get:function(){return this.articlesRegistry.values()}}]),e}(),u=Object(q.a)(l.prototype,"isLoading",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=Object(q.a)(l.prototype,"page",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=Object(q.a)(l.prototype,"totalPagesCount",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=Object(q.a)(l.prototype,"articlesRegistry",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.observable.map()}}),g=Object(q.a)(l.prototype,"predicate",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(q.a)(l.prototype,"articles",[I.computed],Object.getOwnPropertyDescriptor(l.prototype,"articles"),l.prototype),Object(q.a)(l.prototype,"setPage",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"setPage"),l.prototype),Object(q.a)(l.prototype,"setPredicate",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"setPredicate"),l.prototype),Object(q.a)(l.prototype,"loadArticles",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"loadArticles"),l.prototype),Object(q.a)(l.prototype,"loadArticle",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"loadArticle"),l.prototype),Object(q.a)(l.prototype,"makeFavorite",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"makeFavorite"),l.prototype),Object(q.a)(l.prototype,"unmakeFavorite",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"unmakeFavorite"),l.prototype),Object(q.a)(l.prototype,"createArticle",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"createArticle"),l.prototype),Object(q.a)(l.prototype,"updateArticle",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"updateArticle"),l.prototype),Object(q.a)(l.prototype,"deleteArticle",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"deleteArticle"),l.prototype),Object(q.a)(l.prototype,"getParams",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"getParams"),l.prototype),Object(q.a)(l.prototype,"getPredicate",[I.action],Object.getOwnPropertyDescriptor(l.prototype,"getPredicate"),l.prototype),l),G=new(y=function(){function e(){Object(J.a)(this,e),Object(F.a)(this,"isCreatingComment",h,this),Object(F.a)(this,"isLoadingComments",m,this),Object(F.a)(this,"commentErrors",d,this),Object(F.a)(this,"articleSlug",v,this),Object(F.a)(this,"comments",O,this)}return Object(M.a)(e,[{key:"setArticleSlug",value:function(e){this.articleSlug!==e&&(this.comments=[],this.articleSlug=e)}},{key:"loadComments",value:function(){var e=this;return this.isLoadingComments=!0,this.commentErrors=void 0,$.a.Comments.forArticle(this.articleSlug).then(Object(I.action)(function(t){var r=t.comments;e.comments=r})).catch(Object(I.action)(function(t){throw e.commentErrors=t.response&&t.response.body&&t.response.body.errors,t})).finally(Object(I.action)(function(){e.isLoadingComments=!1}))}},{key:"createComment",value:function(e){var t=this;return this.isCreatingComment=!0,$.a.Comments.create(this.articleSlug,e).then(function(){return t.loadComments()}).finally(Object(I.action)(function(){t.isCreatingComment=!1}))}},{key:"deleteComment",value:function(e){var t=this,r=this.comments.findIndex(function(t){return t.id===e});return r>-1&&this.comments.splice(r,1),$.a.Comments.delete(this.articleSlug,e).catch(Object(I.action)(function(e){throw t.loadComments(),e}))}}]),e}(),h=Object(q.a)(y.prototype,"isCreatingComment",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(q.a)(y.prototype,"isLoadingComments",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=Object(q.a)(y.prototype,"commentErrors",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=Object(q.a)(y.prototype,"articleSlug",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),O=Object(q.a)(y.prototype,"comments",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(q.a)(y.prototype,"setArticleSlug",[I.action],Object.getOwnPropertyDescriptor(y.prototype,"setArticleSlug"),y.prototype),Object(q.a)(y.prototype,"loadComments",[I.action],Object.getOwnPropertyDescriptor(y.prototype,"loadComments"),y.prototype),Object(q.a)(y.prototype,"createComment",[I.action],Object.getOwnPropertyDescriptor(y.prototype,"createComment"),y.prototype),Object(q.a)(y.prototype,"deleteComment",[I.action],Object.getOwnPropertyDescriptor(y.prototype,"deleteComment"),y.prototype),y),K=r(44),Q=r(14),V=new(j=function(){function e(){Object(J.a)(this,e),Object(F.a)(this,"inProgress",w,this),Object(F.a)(this,"errors",P,this),Object(F.a)(this,"articleSlug",k,this),Object(F.a)(this,"title",A,this),Object(F.a)(this,"description",S,this),Object(F.a)(this,"body",E,this),Object(F.a)(this,"tagList",L,this)}return Object(M.a)(e,[{key:"setArticleSlug",value:function(e){this.articleSlug!==e&&(this.reset(),this.articleSlug=e)}},{key:"loadInitialData",value:function(){var e=this;return this.articleSlug?(this.inProgress=!0,H.loadArticle(this.articleSlug,{acceptCached:!0}).then(Object(I.action)(function(t){if(!t)throw new Error("Can't load original article");e.title=t.title,e.description=t.description,e.body=t.body,e.tagList=t.tagList})).finally(Object(I.action)(function(){e.inProgress=!1}))):Promise.resolve()}},{key:"reset",value:function(){this.title="",this.description="",this.body="",this.tagList=[]}},{key:"setTitle",value:function(e){this.title=e}},{key:"setDescription",value:function(e){this.description=e}},{key:"setBody",value:function(e){this.body=e}},{key:"addTag",value:function(e){this.tagList.includes(e)||this.tagList.push(e)}},{key:"removeTag",value:function(e){this.tagList=this.tagList.filter(function(t){return t!==e})}},{key:"submit",value:function(){var e=this;this.inProgress=!0,this.errors=void 0;var t={title:this.title,description:this.description,body:this.body,tagList:this.tagList,slug:this.articleSlug};return(this.articleSlug?H.updateArticle(t):H.createArticle(t)).catch(Object(I.action)(function(t){throw e.errors=t.response&&t.response.body&&t.response.body.errors,t})).finally(Object(I.action)(function(){e.inProgress=!1}))}}]),e}(),w=Object(q.a)(j.prototype,"inProgress",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=Object(q.a)(j.prototype,"errors",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),k=Object(q.a)(j.prototype,"articleSlug",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),A=Object(q.a)(j.prototype,"title",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=Object(q.a)(j.prototype,"description",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=Object(q.a)(j.prototype,"body",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=Object(q.a)(j.prototype,"tagList",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(q.a)(j.prototype,"setArticleSlug",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"setArticleSlug"),j.prototype),Object(q.a)(j.prototype,"loadInitialData",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"loadInitialData"),j.prototype),Object(q.a)(j.prototype,"reset",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"reset"),j.prototype),Object(q.a)(j.prototype,"setTitle",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"setTitle"),j.prototype),Object(q.a)(j.prototype,"setDescription",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"setDescription"),j.prototype),Object(q.a)(j.prototype,"setBody",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"setBody"),j.prototype),Object(q.a)(j.prototype,"addTag",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"addTag"),j.prototype),Object(q.a)(j.prototype,"removeTag",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"removeTag"),j.prototype),Object(q.a)(j.prototype,"submit",[I.action],Object.getOwnPropertyDescriptor(j.prototype,"submit"),j.prototype),j),X=r(26),Y=new(C=function(){function e(){Object(J.a)(this,e),Object(F.a)(this,"profile",D,this),Object(F.a)(this,"isLoadingProfile",U,this)}return Object(M.a)(e,[{key:"loadProfile",value:function(e){var t=this;this.isLoadingProfile=!0,$.a.Profile.get(e).then(Object(I.action)(function(e){var r=e.profile;t.profile=r})).finally(Object(I.action)(function(){t.isLoadingProfile=!1}))}},{key:"follow",value:function(){var e=this;this.profile&&!this.profile.following&&(this.profile.following=!0,$.a.Profile.follow(this.profile.username).catch(Object(I.action)(function(){e.profile.following=!1})))}},{key:"unfollow",value:function(){var e=this;this.profile&&this.profile.following&&(this.profile.following=!1,$.a.Profile.unfollow(this.profile.username).catch(Object(I.action)(function(){e.profile.following=!0})))}}]),e}(),D=Object(q.a)(C.prototype,"profile",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),U=Object(q.a)(C.prototype,"isLoadingProfile",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(q.a)(C.prototype,"loadProfile",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"loadProfile"),C.prototype),Object(q.a)(C.prototype,"follow",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"follow"),C.prototype),Object(q.a)(C.prototype,"unfollow",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"unfollow"),C.prototype),C),Z={articlesStore:H,commentsStore:G,authStore:K.a,commonStore:Q.a,editorStore:V,userStore:X.a,profileStore:Y,router:new B.RouterStore},_=r(32),ee=r(31),te=r(33),re=function(e){return e.store.userStore.currentUser?null:n.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.home,store:e.store},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.login,store:e.store},"Sign in")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.register,store:e.store},"Sign up")))},oe=function(e){var t=e.store.userStore.currentUser;return t?n.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.home,store:e.store},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.editor,store:e.store},n.a.createElement("i",{className:"ion-compose"}),"\xa0New Post")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.settings,store:e.store},n.a.createElement("i",{className:"ion-gear-a"}),"\xa0Settings")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(B.Link,{className:"nav-link",view:W.a.register,store:e.store,params:{username:"@".concat(t.username)}},n.a.createElement("img",{src:t.image,className:"user-pic",alt:""}),t.username))):null},ne=Object(x.inject)("userStore","commonStore","store")(z=Object(x.observer)(z=function(e){function t(){return Object(J.a)(this,t),Object(_.a)(this,Object(ee.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-light"},n.a.createElement("div",{className:"container",style:{maxWidth:990,margin:"0 auto",overflow:"auto",zIndex:1}},n.a.createElement(B.Link,{className:"navbar-brand",view:W.a.home,store:this.props.store},this.props.commonStore.appName.toLowerCase()),n.a.createElement(re,this.props),n.a.createElement(oe,this.props)))}}]),t}(n.a.Component))||z)||z,ie=Object(x.inject)("userStore","commonStore")(N=Object(x.observer)(N=function(e){function t(){return Object(J.a)(this,t),Object(_.a)(this,Object(ee.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){this.props.commonStore.token||this.props.commonStore.setAppLoaded()}},{key:"componentDidMount",value:function(){var e=this;this.props.commonStore.token&&this.props.userStore.pullUser().finally(function(){return e.props.commonStore.setAppLoaded()})}},{key:"render",value:function(){return this.props.commonStore.appLoaded?n.a.createElement("div",null,n.a.createElement(ne,null),n.a.createElement(B.MobxRouter,null)):n.a.createElement(ne,null)}}]),t}(n.a.Component))||N)||N;Object(B.startRouter)(W.a,Z),R.a.shim(),Object(I.useStrict)(!0),a.a.render(n.a.createElement(x.Provider,Object.assign({},Z,{store:Z}),n.a.createElement(ie,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");c?(function(e,t){fetch(e).then(function(r){var o=r.headers.get("content-type");404===r.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):s(t,e)})}}()},26:function(e,t,r){"use strict";var o,n,i,a,c,s=r(3),l=r(6),u=r(7),p=r(1),b=(r(22),r(0)),f=r(4),g=(o=function(){function e(){Object(l.a)(this,e),Object(s.a)(this,"currentUser",n,this),Object(s.a)(this,"loadingUser",i,this),Object(s.a)(this,"updatingUser",a,this),Object(s.a)(this,"updatingUserErrors",c,this)}return Object(u.a)(e,[{key:"pullUser",value:function(){var e=this;return this.loadingUser=!0,f.a.Auth.current().then(Object(b.action)(function(t){var r=t.user;e.currentUser=r})).finally(Object(b.action)(function(){e.loadingUser=!1}))}},{key:"updateUser",value:function(e){var t=this;return this.updatingUser=!0,f.a.Auth.save(e).then(Object(b.action)(function(e){var r=e.user;t.currentUser=r})).finally(Object(b.action)(function(){t.updatingUser=!1}))}},{key:"forgetUser",value:function(){this.currentUser=void 0}}]),e}(),n=Object(p.a)(o.prototype,"currentUser",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(p.a)(o.prototype,"loadingUser",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=Object(p.a)(o.prototype,"updatingUser",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(p.a)(o.prototype,"updatingUserErrors",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(p.a)(o.prototype,"pullUser",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"pullUser"),o.prototype),Object(p.a)(o.prototype,"updateUser",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"updateUser"),o.prototype),Object(p.a)(o.prototype,"forgetUser",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"forgetUser"),o.prototype),o);t.a=new g},4:function(e,t,r){"use strict";(function(e){var o=r(99),n=r.n(o),i=r(100),a=r.n(i),c=r(14),s=r(44),l=n()(a.a,e.Promise),u="https://conduit.productionready.io/api",p=encodeURIComponent,b=function(e){return e&&e.response&&401===e.response.status&&s.a.logout(),e},f=function(e){return e.body},g=function(e){c.a.token&&e.set("authorization","Token ".concat(c.a.token))},y=function(e){return l.del("".concat(u).concat(e)).use(g).end(b).then(f)},h=function(e){return l.get("".concat(u).concat(e)).use(g).end(b).then(f)},m=function(e,t){return l.put("".concat(u).concat(e),t).use(g).end(b).then(f)},d=function(e,t){return l.post("".concat(u).concat(e),t).use(g).end(b).then(f)},v={current:function(){return h("/user")},login:function(e,t){return d("/users/login",{user:{email:e,password:t}})},register:function(e,t,r){return d("/users",{user:{username:e,email:t,password:r}})},save:function(e){return m("/user",{user:e})}},O={getAll:function(){return h("/tags")}},j=function(e,t){return"limit=".concat(e,"&offset=").concat(t?t*e:0)},w=function(e){return Object.assign({},e,{slug:void 0})},P={all:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return h("/articles?".concat(j(t,e)))},byAuthor:function(e,t,r){return h("/articles?author=".concat(p(e),"&").concat(j(5,t)))},byTag:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return h("/articles?tag=".concat(p(e),"&").concat(j(r,t)))},del:function(e){return y("/articles/".concat(e))},favorite:function(e){return d("/articles/".concat(e,"/favorite"))},favoritedBy:function(e,t){return h("/articles?favorited=".concat(p(e),"&").concat(j(5,t)))},feed:function(){return h("/articles/feed?limit=10&offset=0")},get:function(e){return h("/articles/".concat(e))},unfavorite:function(e){return y("/articles/".concat(e,"/favorite"))},update:function(e){return m("/articles/".concat(e.slug),{article:w(e)})},create:function(e){return d("/articles",{article:e})}},k={create:function(e,t){return d("/articles/".concat(e,"/comments"),{comment:t})},delete:function(e,t){return y("/articles/".concat(e,"/comments/").concat(t))},forArticle:function(e){return h("/articles/".concat(e,"/comments"))}},A={follow:function(e){return d("/profiles/".concat(e,"/follow"))},get:function(e){return h("/profiles/".concat(e))},unfollow:function(e){return y("/profiles/".concat(e,"/follow"))}};t.a={Articles:P,Auth:v,Comments:k,Profile:A,Tags:O}}).call(this,r(34))},44:function(e,t,r){"use strict";var o,n,i,a,c=r(3),s=r(6),l=r(7),u=r(1),p=(r(22),r(0)),b=r(4),f=r(26),g=r(14),y=(o=function(){function e(){Object(s.a)(this,e),Object(c.a)(this,"inProgress",n,this),Object(c.a)(this,"errors",i,this),Object(c.a)(this,"values",a,this)}return Object(l.a)(e,[{key:"setUsername",value:function(e){this.values.username=e}},{key:"setEmail",value:function(e){this.values.email=e}},{key:"setPassword",value:function(e){this.values.password=e}},{key:"reset",value:function(){this.values.username="",this.values.email="",this.values.password=""}},{key:"login",value:function(){var e=this;return this.inProgress=!0,this.errors=void 0,b.a.Auth.login(this.values.email,this.values.password).then(function(e){var t=e.user;return g.a.setToken(t.token)}).then(function(){return f.a.pullUser()}).catch(Object(p.action)(function(t){throw e.errors=t.response&&t.response.body&&t.response.body.errors,t})).finally(Object(p.action)(function(){e.inProgress=!1}))}},{key:"register",value:function(){var e=this;return this.inProgress=!0,this.errors=void 0,b.a.Auth.register(this.values.username,this.values.email,this.values.password).then(function(e){var t=e.user;return g.a.setToken(t.token)}).then(function(){return f.a.pullUser()}).catch(Object(p.action)(function(t){throw e.errors=t.response&&t.response.body&&t.response.body.errors,t})).finally(Object(p.action)(function(){e.inProgress=!1}))}},{key:"logout",value:function(){return g.a.setToken(void 0),f.a.forgetUser(),Promise.resolve()}}]),e}(),n=Object(u.a)(o.prototype,"inProgress",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(u.a)(o.prototype,"errors",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),a=Object(u.a)(o.prototype,"values",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{username:"",email:"",password:""}}}),Object(u.a)(o.prototype,"setUsername",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setUsername"),o.prototype),Object(u.a)(o.prototype,"setEmail",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setEmail"),o.prototype),Object(u.a)(o.prototype,"setPassword",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setPassword"),o.prototype),Object(u.a)(o.prototype,"reset",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"reset"),o.prototype),Object(u.a)(o.prototype,"login",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"login"),o.prototype),Object(u.a)(o.prototype,"register",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"register"),o.prototype),Object(u.a)(o.prototype,"logout",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"logout"),o.prototype),o);t.a=new y}},[[102,10,8]]]);
//# sourceMappingURL=main.19e6a3c4.chunk.js.map